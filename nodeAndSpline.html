<!DOCTYPE html>
<html>
 <!--         <script src="script/nodeAndSpline.js">
      </script> -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" type="text/css" href="css/nodeAndSpline.css">

  <head>
    <title>Spline Editor</title>    



  </head>
  <body>  
    <ul class="container">
        
        <li class="nodeBase type2"></li>
        <li class="nodeBase type2"></li>
         
    </ul>
    <ul class="container">
        
        <input type="button" class="nodeBase type1">
        <input type="button" class="nodeBase type2">
         
    </ul>
      
      <!-- SVG -->
      
      <svg width="960" height="600" id="mySVG" style ="border:1px solid #000000;">

          <path id="mousePath" style="stroke:rgb(247, 162, 4);stroke-width:5" fill="transparent"/>
               <circle class="dropZone" cx="300" cy="300" r="10" style="stroke:rgb(247, 162, 4);stroke-width:5"/>
               <circle class="dropZone" cx="100" cy="220" r="10" style="stroke;stroke-width:5"/>
         
           
          
          
      </svg>

      <!-- SCRIPT -->
       <script>       
         //set up the canvas and context
            var svg = document.getElementById("mySVG");
          //  var ctx = svg.getContext("2d");
             evt = window.Event;
            
           //sets mouse position as a global variable
           var mousePos = getMousePos(svg, evt);
            var mouseX = mousePos.x;
            var mouseY = mousePos.y;
           
           
            //report the mouse position while it moves, then sets <path "d" /> to what toString returns.
            svg.addEventListener("mousemove", function (evt) {
                var mousePos = getMousePos(svg, evt);
                var mouseX = mousePos.x;
                var mouseY = mousePos.y;
                
                document.querySelector("#mySVG #mousePath").setAttribute("d", toString(mouseX,mouseY));
            }, false);
           
              
           // gets mouse X and Y coordinates and returns it as a string
              function toString(mouseX, mouseY){
                  
                  var nodeX = 300;
                  var nodeY = 300;
                  var nodeAnchor = nodeX + 50;
                  var anchorPoint = mouseX - 5;

                  
                  // use this if you want to have a curve on the end!
               //   return "M" + nodeX + " " + nodeY + " C " + nodeAnchor + " " + nodeY + ", " + mouseY + " " + anchorPoint + ", " + mouseX + " " + mouseY;
                  return "M" + nodeX + " " + nodeY +  ", " + mouseX + " " + mouseY;

                  
                //  d="M10 10 C 100 10, 300 300, 400 300"
                  
              }
           

            //Get Mouse Position
            function getMousePos(svg, evt) {
                var rect = svg.getBoundingClientRect();
                return {
                    x: evt.clientX - rect.left,
                    y: evt.clientY - rect.top
                };
            }  
           
           function setPointPos(){
               
            var dropZoneX = document.getElementsByTagName("circle")[0].getAttribute("cx");
            var dropZoneY = document.getElementsByTagName("circle")[0].getAttribute("cy");
            
               console.log(dropZoneX);
               console.log(dropZoneY);
               
           }
           setPointPos();
           
        </script>
    </body>
</html>